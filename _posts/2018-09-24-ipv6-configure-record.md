---
title: ipv6配置记录
date: 2018-09-24 18:23:30 +0800
categories: develop
tags: ipv6 linux


---

最近配置ipv6，出了不少问题。这里记录一下。

## 配置

IPv6按协议来说，是会自动配置的。但由于普及以及各种兼容问题。在一些情况下还是需要人工配置的。比如ip分配什么的。可以写在`/etc/networks`内。

dhcpcd也可以做自动配置，但有可能会出现无法配置的情况，就得按上面说的来了。

## 连接失败（防火墙）

要特别小心防火墙。iptables对应IPv6版本是ip6tables，而一些辅助配置的工具，对ipv6的兼容性还没有那么好。有可能需要适当的配置一下。

其中要特别注意ipv6的一些原理，不同于ipv4，ipv6将各类协议整合起来了。所以防火墙必需要通过`mld neigh router`（IN与OUT）。

## 调试与内核

编译内核的时候，不小心把`CONFIG_PACKAGE`给关了，结果网都连不上了。

调试firehol时，没注意打印提示，以为修改已经应用了，但其实是需要交互一下才会实现。不管是多么熟悉的操作，也需要适当去读一下提示。

调试过程一定要耐心，每一步都要确定后再执行。
